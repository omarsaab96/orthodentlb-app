import{C as L,k as y,f as p,a as x,u as o,w as f,F as V,o as u,m as M,b as e,d as n,t as d,g as c,z as F,n as $,i as g,A as h,v as O,H as R,J as z}from"./app-B1ozhOJo.js";import{_ as H}from"./AuthenticatedLayout-CiAOSSon.js";import{_ as B,a as j,D as q}from"./Modal-B8ei1V8G.js";import{P as J}from"./PrimaryButton-DjtLEOx9.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const G={class:"flex flex-col justify-between"},K={class:"text-xl font-semibold leading-tight text-gray-800 dark:text-gray-200 mb-5 flex items-center"},Q={key:0,class:"ml-[10px] bg-[#c6c656] text-[#916106] p-[2px] px-[5px] rounded-[5px] font-bold text-[12px] leading-[12px]"},W={key:1,class:"ml-[10px] bg-[#c65656] text-[#910606] p-[2px] px-[5px] rounded-[5px] font-bold text-[12px] leading-[12px]"},X={class:"py-12"},Y={class:"mx-auto max-w-7xl sm:px-6 lg:px-8 flex-col flex md:flex-row gap-4 md:gap-4"},Z={class:"overflow-hidden bg-white shadow-sm sm:rounded-lg dark:bg-gray-800 w-full"},ee={class:"p-6 text-gray-900 dark:text-gray-100"},te={class:"w-full",style:{border:"1px solid white"}},se={style:{border:"1px solid white"}},oe={style:{border:"1px solid white"}},le={style:{border:"1px solid white"}},re={style:{border:"1px solid white"}},de={style:{border:"1px solid white"}},ne={style:{border:"1px solid white"}},ae={style:{border:"1px solid white"}},ie=["onClick"],pe=["onClick"],ue={class:"p-6"},be={class:"text-lg font-medium text-gray-900 dark:text-gray-100"},me={class:"font-bold"},xe={class:"mt-1 mb-8 text-sm text-gray-600 dark:text-gray-400"},fe={class:"border-b border-t border-1 border-solid border-gray-600"},ce={class:"pr-[10px]"},ye={class:"border-b border-1 border-solid border-gray-600"},ge={class:"pr-[10px]"},he={class:"border-b border-1 border-solid border-gray-600"},_e={class:"pr-[10px]"},ve={class:"border-b border-1 border-solid border-gray-600"},ke={class:"pr-[10px]"},we={class:"border-b border-1 border-solid border-gray-600"},Ce={class:"pr-[10px]"},Ue={class:"mt-6 flex justify-end"},De={class:"p-6"},Ee={class:"text-lg font-medium text-gray-900 dark:text-gray-100"},Ne={class:"font-bold"},Ve={class:"mt-1 mb-8 text-sm text-gray-600 dark:text-gray-400"},$e={class:"border-b border-t border-1 border-solid border-gray-600"},Be={class:"pr-[10px]"},je=["message"],Te={class:"border-b border-1 border-solid border-gray-600"},Ae={class:"pr-[10px]"},Ie=["message"],Pe={class:"border-b border-1 border-solid border-gray-600"},Se={class:"pr-[10px]"},Le=["message"],Me={class:"border-b border-1 border-solid border-gray-600"},Fe={class:"pr-[10px]"},Oe=["message"],Re={class:"border-b border-1 border-solid border-gray-600"},ze={class:"pr-[10px]"},He=["message"],qe={class:"mt-6 flex justify-end"},Xe={__name:"Users",props:{users:{type:Array,required:!0}},setup(T){const s=L({id:"",name:"",email:"",phone:"",type:"",linked:""}),_=y(!1),b=y(null),m=y(!1),v=y(!1),i=y(null),C=y(null),A=a=>{v.value=!0,i.value=a,s.id=i.value.id,s.name=i.value.name,s.email=i.value.email,s.phone=i.value.phone==null?null:i.value.phone,s.type=i.value.type,s.linked=i.value.linked,z(()=>C.value.focus())},I=()=>{m.value=!0,s.put(route("editUser"),{preserveScroll:!0,onSuccess:()=>w(),onError:a=>console.log(a),onFinish:()=>s.reset()})},P=a=>{_.value=!0,b.value=a},S=()=>{m.value=!0,R.delete("/api/deleteUser/"+b.value.id,{headers:{"Content-Type":"application/json"}}).then(a=>{k(),window.location.reload()}).catch(a=>{console.log(a)})},k=()=>{_.value=!1,m.value=!1,b.value=null},w=()=>{v.value=!1,m.value=!1,i.value=null,s.value={id:"",name:"",email:"",phone:"",type:"",linked:""}};return(a,t)=>(u(),p(V,null,[x(o(M),{title:"Users"}),x(H,null,{header:f(()=>[e("div",G,[e("h2",K,[n(" Hi, "+d(a.$page.props.auth.user.name)+"! ",1),a.$page.props.auth.user.type=="admin"?(u(),p("span",Q," admin ")):c("",!0),a.$page.props.auth.user.type=="superadmin"?(u(),p("span",W," SUDO ")):c("",!0)])])]),default:f(()=>[e("div",X,[e("div",Y,[e("div",Z,[e("div",ee,[e("table",te,[t[5]||(t[5]=e("tr",{style:{border:"1px solid white"}},[e("th",{style:{border:"1px solid white"},class:"font-bold text-left"},"ID"),e("th",{style:{border:"1px solid white"},class:"font-bold text-left"},"Name"),e("th",{style:{border:"1px solid white"},class:"font-bold text-left"},"Email"),e("th",{style:{border:"1px solid white"},class:"font-bold text-left"},"Phone"),e("th",{style:{border:"1px solid white"},class:"font-bold text-left"},"Role"),e("th",{style:{border:"1px solid white"},class:"font-bold text-left"},"isLinked"),e("th",{style:{border:"1px solid white"},class:"font-bold text-left"},"Action")],-1)),(u(!0),p(V,null,F(T.users,l=>(u(),p("tr",{key:l.id,style:{border:"1px solid white"}},[e("td",se,d(l.id),1),e("td",oe,d(l.name),1),e("td",le,d(l.email),1),e("td",re,d(l.phone==null?"null":l.phone),1),e("td",de,d(l.type),1),e("td",ne,d(l.linked),1),e("td",ae,[e("a",{href:"javascript:;",onClick:r=>A(l),class:"rounded-md text-sm text-gray-600 underline hover:text-gray-900 focus:outline-none dark:text-gray-400 dark:hover:text-gray-100 dark:focus:ring-offset-gray-800"}," edit ",8,ie),e("a",{href:"javascript:;",onClick:r=>P(l),class:"rounded-md text-sm text-gray-600 underline hover:text-gray-900 focus:outline-none dark:text-gray-400 dark:hover:text-gray-100 dark:focus:ring-offset-gray-800"}," delete ",8,pe)])]))),128))])])])])])]),_:1}),x(B,{show:_.value,onClose:k},{default:f(()=>{var l,r,U,D,E,N;return[e("div",ue,[e("h2",be,[t[6]||(t[6]=n(" Are you sure you want to delete user ? ")),t[7]||(t[7]=e("br",null,null,-1)),t[8]||(t[8]=e("br",null,null,-1)),e("span",me,"ID: "+d((l=b.value)==null?void 0:l.id),1)]),e("table",xe,[e("tr",fe,[t[10]||(t[10]=e("td",{class:"w-[100px] font-semibold"},"Name",-1)),e("td",ce,[n(d((r=b.value)==null?void 0:r.name),1),t[9]||(t[9]=e("br",null,null,-1))])]),e("tr",ye,[t[12]||(t[12]=e("td",{class:"w-[100px] font-semibold"},"Email",-1)),e("td",ge,[n(d((U=b.value)==null?void 0:U.email),1),t[11]||(t[11]=e("br",null,null,-1))])]),e("tr",he,[t[14]||(t[14]=e("td",{class:"w-[100px] font-semibold"},"Phone",-1)),e("td",_e,[n(d((D=b.value)==null?void 0:D.phone),1),t[13]||(t[13]=e("br",null,null,-1))])]),e("tr",ve,[t[16]||(t[16]=e("td",{class:"w-[100px] font-semibold"},"Role",-1)),e("td",ke,[n(d((E=b.value)==null?void 0:E.type),1),t[15]||(t[15]=e("br",null,null,-1))])]),e("tr",we,[t[18]||(t[18]=e("td",{class:"w-[100px] font-semibold"},"isLinked",-1)),e("td",Ce,[n(d(((N=b.value)==null?void 0:N.linked)==0?"false":"true"),1),t[17]||(t[17]=e("br",null,null,-1))])])]),t[21]||(t[21]=e("p",{class:"mt-1 text-sm text-red-400"},[e("i",{class:"fa-solid fa-triangle-exclamation mr-[5px]"}),n(" Once this account is deleted, all of its resources and data will be permanently deleted. ")],-1)),e("div",Ue,[x(j,{onClick:k},{default:f(()=>t[19]||(t[19]=[n(" Cancel ")])),_:1}),x(q,{class:$(["ms-3",{"opacity-25":m.value}]),disabled:m.value,onClick:S},{default:f(()=>t[20]||(t[20]=[n(" Delete Account ")])),_:1},8,["class","disabled"])])])]}),_:1},8,["show"]),x(B,{show:v.value,onClose:w},{default:f(()=>{var l;return[e("div",De,[e("h2",Ee,[e("span",Ne,"ID: "+d((l=i.value)==null?void 0:l.id),1)]),e("table",Ve,[e("tr",$e,[t[22]||(t[22]=e("td",{class:"w-[100px] font-semibold"},"Name",-1)),e("td",Be,[g(e("input",{id:"name",ref_key:"editNameInput",ref:C,"onUpdate:modelValue":t[0]||(t[0]=r=>o(s).name=r),type:"text",class:"block w-full p-0 text-[14px] bg-transparent border-none"},null,512),[[h,o(s).name]]),o(s).errors.name?(u(),p("p",{key:0,message:o(s).errors.name,class:"mt-2"},null,8,je)):c("",!0)])]),e("tr",Te,[t[23]||(t[23]=e("td",{class:"w-[100px] font-semibold"},"Email",-1)),e("td",Ae,[g(e("input",{id:"email","onUpdate:modelValue":t[1]||(t[1]=r=>o(s).email=r),type:"email",class:"block w-full p-0 text-[14px] bg-transparent border-none"},null,512),[[h,o(s).email]]),o(s).errors.email?(u(),p("p",{key:0,message:o(s).errors.email,class:"mt-2"},null,8,Ie)):c("",!0)])]),e("tr",Pe,[t[24]||(t[24]=e("td",{class:"w-[100px] font-semibold"},"Phone",-1)),e("td",Se,[g(e("input",{id:"phone","onUpdate:modelValue":t[2]||(t[2]=r=>o(s).phone=r),type:"text",class:"block w-full p-0 text-[14px] bg-transparent border-none"},null,512),[[h,o(s).phone]]),o(s).errors.phone?(u(),p("p",{key:0,message:o(s).errors.phone,class:"mt-2"},null,8,Le)):c("",!0)])]),e("tr",Me,[t[25]||(t[25]=e("td",{class:"w-[100px] font-semibold"},"Role",-1)),e("td",Fe,[g(e("input",{id:"type","onUpdate:modelValue":t[3]||(t[3]=r=>o(s).type=r),type:"text",class:"block w-full p-0 text-[14px] bg-transparent border-none"},null,512),[[h,o(s).type]]),o(s).errors.type?(u(),p("p",{key:0,message:o(s).errors.type,class:"mt-2"},null,8,Oe)):c("",!0)])]),e("tr",Re,[t[26]||(t[26]=e("td",{class:"w-[100px] font-semibold"},"isLinked",-1)),e("td",ze,[g(e("input",{id:"linked","onUpdate:modelValue":t[4]||(t[4]=r=>o(s).linked=r),type:"checkbox","true-value":"1","false-value":"0",class:"form-checkbox"},null,512),[[O,o(s).linked]]),o(s).errors.linked?(u(),p("p",{key:0,message:o(s).errors.linked,class:"mt-2"},null,8,He)):c("",!0)])])]),t[29]||(t[29]=e("p",{class:"mt-1 text-sm text-blue-400"},[e("i",{class:"fa-solid fa-circle-info mr-[5px]"}),n(" Once this account is edited, all of its info will be permanently changed. ")],-1)),e("div",qe,[x(j,{onClick:w},{default:f(()=>t[27]||(t[27]=[n(" Cancel ")])),_:1}),x(J,{class:$(["ms-3",{"opacity-25":m.value}]),disabled:m.value,onClick:I},{default:f(()=>t[28]||(t[28]=[n(" Save changes ")])),_:1},8,["class","disabled"])])])]}),_:1},8,["show"])],64))}};export{Xe as default};
