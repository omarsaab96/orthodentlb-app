import{C as D,k as _,f as a,a as x,u as I,w as b,F,o as u,m as Z,b as t,d as r,t as l,g as S,z as q,n as G,i as Y,v as J}from"./app-B1ozhOJo.js";import{_ as K}from"./AuthenticatedLayout-CiAOSSon.js";import{_ as P,a as Q,D as R}from"./Modal-B8ei1V8G.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const W={class:"flex flex-col justify-between"},X={class:"text-xl font-semibold leading-tight text-gray-800 dark:text-gray-200 mb-5 flex items-center"},tt={key:0,class:"ml-[10px] bg-[#c6c656] text-[#916106] p-[2px] px-[5px] rounded-[5px] font-bold text-[12px] leading-[12px]"},et={key:1,class:"ml-[10px] bg-[#c65656] text-[#910606] p-[2px] px-[5px] rounded-[5px] font-bold text-[12px] leading-[12px]"},st={class:"py-12"},ot={class:"mx-auto max-w-7xl sm:px-6 lg:px-8 flex-col flex md:flex-row gap-4 md:gap-4"},lt={class:"overflow-hidden bg-white shadow-sm sm:rounded-lg dark:bg-gray-800 w-full"},rt={class:"p-6 text-gray-900 dark:text-gray-100"},dt={class:"w-full",style:{border:"1px solid white"}},nt={style:{border:"1px solid white"}},it={style:{border:"1px solid white"}},at={style:{border:"1px solid white"}},ut={style:{border:"1px solid white"}},ct={style:{border:"1px solid white"}},pt=["innerHTML"],xt={style:{border:"1px solid white"}},bt={class:"flex align-center"},gt={key:0,class:"w-[10px] loader"},ft=["onUpdate:modelValue","onChange"],mt={style:{border:"1px solid white"}},yt=["href"],ht=["onClick"],_t={class:"p-6"},vt={class:"text-lg font-medium text-gray-900 dark:text-gray-100"},wt={class:"font-bold"},kt={class:"mt-1 mb-8 text-sm text-gray-600 dark:text-gray-400"},St={class:"border-b border-t border-1 border-solid border-gray-600"},Ct={class:"pr-[10px]"},Dt={class:"border-b border-1 border-solid border-gray-600"},Ft={class:"pr-[10px]"},Tt={class:"border-b border-1 border-solid border-gray-600"},$t={class:"pr-[10px]"},Ut={class:"border-b border-1 border-solid border-gray-600"},Bt={class:"pr-[10px]"},zt={class:"border-b border-1 border-solid border-gray-600"},Lt={class:"pr-[10px]"},Nt={class:"mt-6 flex justify-end"},jt={__name:"Files",props:{files:{type:Array,required:!0}},setup(T){const g=D({id:""}),v=_(!1),d=_(null),f=_(!1),w=_(""),c=D({id:"",linked:""}),$=s=>{c.id=s.id,c.linked=s.linked,w.value=s.id,c.put(route("editFile"),{preserveScroll:!0,onSuccess:()=>{w.value="",c.value={id:"",linked:""}},onError:e=>console.log(e),onFinish:()=>c.reset()})},U=s=>{v.value=!0,d.value=s,g.id=d.value},B=()=>{f.value=!0,g.delete(route("deletefile"),{preserveScroll:!0,onSuccess:()=>k(),onError:s=>console.log(s),onFinish:()=>g.reset()})},k=()=>{v.value=!1,f.value=!1,d.value=null,g.value={id:""}},z=s=>{if(typeof s!="string"&&(s=String(s)),s.includes("T")){const i=new Date(s),V=String(i.getUTCDate()).padStart(2,"0"),E=String(i.getUTCMonth()+1).padStart(2,"0"),O=i.getUTCFullYear(),j=String(i.getUTCHours()).padStart(2,"0"),A=String(i.getUTCMinutes()).padStart(2,"0"),H=String(i.getUTCSeconds()).padStart(2,"0");s=`${V}${E}${O}${j}${A}${H}`}const e=s.substring(0,2),o=s.substring(2,4)-1,n=s.substring(4,8),m=s.substring(8,10),y=s.substring(10,12),h=s.substring(12,14),p=new Date(Date.UTC(n,o,e,m,y,h)),C=Intl.DateTimeFormat().resolvedOptions().timeZone,N=p.toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric",timeZone:C}),M=p.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0,timeZone:C});return`<div class="flex"><div class="date mr-[5px]">${N}</div> <div class="time">${M}</div></div>`},L=s=>(s/(1024*1024)).toFixed(2)+" MB";return(s,e)=>(u(),a(F,null,[x(I(Z),{title:"Files"}),x(K,null,{header:b(()=>[t("div",W,[t("h2",X,[r(" Hi, "+l(s.$page.props.auth.user.name)+"! ",1),s.$page.props.auth.user.type=="admin"?(u(),a("span",tt," admin ")):S("",!0),s.$page.props.auth.user.type=="superadmin"?(u(),a("span",et," SUDO ")):S("",!0)])])]),default:b(()=>[t("div",st,[t("div",ot,[t("div",lt,[t("div",rt,[t("table",dt,[e[0]||(e[0]=t("tr",{style:{border:"1px solid white"}},[t("th",{style:{border:"1px solid white"},class:"font-bold text-left"},"ID"),t("th",{style:{border:"1px solid white"},class:"font-bold text-left"},"Name"),t("th",{style:{border:"1px solid white"},class:"font-bold text-left"},"Create_by"),t("th",{style:{border:"1px solid white"},class:"font-bold text-left"},"Ext"),t("th",{style:{border:"1px solid white"},class:"font-bold text-left"},"Size"),t("th",{style:{border:"1px solid white"},class:"font-bold text-left"},"Created_at"),t("th",{style:{border:"1px solid white"},class:"font-bold text-left"},"isLinked"),t("th",{style:{border:"1px solid white"},class:"font-bold text-left"},"Actions")],-1)),(u(!0),a(F,null,q(T.files,o=>(u(),a("tr",{key:o.id,style:{border:"1px solid white"}},[t("td",nt,l(o.id),1),t("td",it,l(o.originalName),1),t("td",at,l(o.uploadedBy),1),t("td",ut,l(o.extension),1),t("td",ct,l(L(o.size)),1),t("td",{style:{border:"1px solid white"},innerHTML:z(o.dateOfUpload)},null,8,pt),t("td",xt,[t("div",bt,[w.value==o.id?(u(),a("span",gt)):S("",!0),Y(t("input",{id:"linked","onUpdate:modelValue":n=>o.linked=n,type:"checkbox","true-value":1,"false-value":0,class:"form-checkbox",onChange:n=>$(o)},null,40,ft),[[J,o.linked]])])]),t("td",mt,[t("a",{target:"_blank",class:"rounded-md text-sm text-gray-600 underline hover:text-gray-900 focus:outline-none dark:text-gray-400 dark:hover:text-gray-100 dark:focus:ring-offset-gray-800",href:o.file_path}," download ",8,yt),t("a",{href:"javascript:;",onClick:n=>U(o),class:"rounded-md text-sm text-gray-600 underline hover:text-gray-900 focus:outline-none dark:text-gray-400 dark:hover:text-gray-100 dark:focus:ring-offset-gray-800"}," delete ",8,ht)])]))),128))])])])])])]),_:1}),x(P,{show:v.value,onClose:k},{default:b(()=>{var o,n,m,y,h,p;return[t("div",_t,[t("h2",vt,[e[1]||(e[1]=r(" Are you sure you want to delete file ? ")),e[2]||(e[2]=t("br",null,null,-1)),e[3]||(e[3]=t("br",null,null,-1)),t("span",wt,"ID: "+l((o=d.value)==null?void 0:o.id),1)]),t("table",kt,[t("tr",St,[e[5]||(e[5]=t("td",{class:"w-[100px] font-semibold"},"Name",-1)),t("td",Ct,[r(l((n=d.value)==null?void 0:n.originalName),1),e[4]||(e[4]=t("br",null,null,-1))])]),t("tr",Dt,[e[7]||(e[7]=t("td",{class:"w-[100px] font-semibold"},"Ext",-1)),t("td",Ft,[r("."+l((m=d.value)==null?void 0:m.extension),1),e[6]||(e[6]=t("br",null,null,-1))])]),t("tr",Tt,[e[9]||(e[9]=t("td",{class:"w-[100px] font-semibold"},"Size",-1)),t("td",$t,[r(l((y=d.value)==null?void 0:y.size),1),e[8]||(e[8]=t("br",null,null,-1))])]),t("tr",Ut,[e[11]||(e[11]=t("td",{class:"w-[100px] font-semibold"},"Uploaded by",-1)),t("td",Bt,[r(l((h=d.value)==null?void 0:h.uploadedBy),1),e[10]||(e[10]=t("br",null,null,-1))])]),t("tr",zt,[e[13]||(e[13]=t("td",{class:"w-[100px] font-semibold"},"isLinked",-1)),t("td",Lt,[r(l(((p=d.value)==null?void 0:p.linked)==0?"false":"true"),1),e[12]||(e[12]=t("br",null,null,-1))])])]),e[16]||(e[16]=t("p",{class:"mt-1 text-sm text-red-400"},[t("i",{class:"fa-solid fa-triangle-exclamation mr-[5px]"}),r(" Once this account is deleted, all of its resources and data will be permanently deleted. ")],-1)),t("div",Nt,[x(Q,{onClick:k},{default:b(()=>e[14]||(e[14]=[r(" Cancel ")])),_:1}),x(R,{class:G(["ms-3",{"opacity-25":f.value}]),disabled:f.value,onClick:B},{default:b(()=>e[15]||(e[15]=[r(" Delete Account ")])),_:1},8,["class","disabled"])])])]}),_:1},8,["show"])],64))}};export{jt as default};
